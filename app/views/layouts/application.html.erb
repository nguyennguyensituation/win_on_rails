<!DOCTYPE html>
<html>
  <head>
    <title>Nguyen Streak</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <%= stylesheet_link_tag 'pure-min.css' %>
    <%= stylesheet_link_tag 'application.css' %>
    <%= stylesheet_link_tag 'https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css' %>
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <%= stylesheet_link_tag 'https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Urbanist&display=swap' %>
  </head>

  <body>
      <header class="pure-menu pure-menu-horizontal header pure-u-1">
        <a class="pure-menu-heading" id="title" href="/">
        <img src="/images/laurels.png" id="title-icon"> Nguyen Streak</a>

        <nav>
          <menu class="pure-menu-list">
            <li class="pure-menu-item"><a href="/" class="pure-menu-link">Home</a></li>
            <li class="pure-menu-item"><a href="/about" class="pure-menu-link">About</a></li>
          
            <% if session[:user_id] %>
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover";">
                <a href="#" id="menuLink1" class="pure-menu-link">
                  <img src="/images/profile-icon.png" id="profile-img"><%= session[:username] %>
                </a>
                <menu class="pure-menu-children">
                  <li class="pure-menu-item">
                    <a href="/my_account" class="pure-menu-link">My account</a>
                  </li>
                  <li class="pure-menu-item">
                    <form onsubmit="return confirm('Are you sure you want to sign out?');" method="post" action="/sign_out">
                    <button type="submit" id="sign-out-btn">Sign out</button>
                    </form>
                  </li>
                </menu>
              </li>
            <% else %>
              <li class="pure-menu-item"><a href="/sign_in" class="pure-menu-link" id="sign-in"><img src="/images/profile-icon.png" id="profile-img">Sign in</a></li>
            <% end %>
        </menu>
      </nav>
      </header>
  
    <main class="pure-g">
      <div class="pure-u-1">
        <%== yield %>
      </div>
    </main>
  </body>
</html>
